<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Wypłaty</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
body{
  background:linear-gradient(to right,#1e3c72,#2a5298);
  font-family:Arial;
  color:#fff;
}
section{
  max-width:500px;
  margin:40px auto;
  background:rgba(0,0,0,.6);
  padding:20px;
  border-radius:10px;
}
input,button{
  width:100%;
  padding:10px;
  margin:6px 0;
}
button{
  background:#ff9800;
  border:none;
  font-weight:bold;
}
</style>
</head>

<body>

<section>
  <h2>Wypłata</h2>

  <input id="name" placeholder="Imię i nazwisko">
  <input id="email" placeholder="Email PayPal">
  <input id="amount" placeholder="Kwota (zł)">
  <button onclick="send()">Wyślij wniosek</button>
</section>

<script>
const firebaseConfig = {
  // <script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyCVkqjA4Yw_cAyKJ5wZ_YojZmEsa_w3THs",
    authDomain: "money-19005.firebaseapp.com",
    projectId: "money-19005",
    storageBucket: "money-19005.firebasestorage.app",
    messagingSenderId: "843755877611",
    appId: "1:843755877611:web:b62bfa25950a7a21227aae",
    measurementId: "G-Z30W3GL7HN"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

function send(){
  const name = nameInput.value;
  const email = emailInput.value;
  const amount = amountInput.value;

  if(!name || !email || !amount){
    alert("Uzupełnij wszystko");
    return;
  }

  db.collection("withdrawals").add({
    name,
    email,
    amount,
    status:"Oczekuje",
    date: new Date().toLocaleString()
  });

  alert("Wniosek wysłany");
  nameInput.value="";
  emailInput.value="";
  amountInput.value="";
}
</script>

</body>
</html>
