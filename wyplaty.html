<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Wypłaty</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:linear-gradient(to right,#1e3c72,#2a5298);
  color:#fff;
}
header{
  background:#0d1b33;
  padding:15px;
  text-align:center;
}
section{
  background:rgba(0,0,0,.6);
  max-width:600px;
  margin:30px auto;
  padding:20px;
  border-radius:10px;
}
input,button{
  width:100%;
  padding:10px;
  margin:8px 0;
  border-radius:5px;
  border:none;
}
button{
  background:#ff9800;
  font-weight:bold;
  cursor:pointer;
}
table{
  width:100%;
  margin-top:20px;
  border-collapse:collapse;
}
td,th{
  border-bottom:1px solid rgba(255,255,255,.2);
  padding:8px;
  text-align:center;
}
</style>
</head>

<body>

<header>
  <h1>Wypłata środków</h1>
</header>

<section>
  <h2>Złóż wniosek</h2>

  <input id="name" placeholder="Imię i nazwisko">
  <input id="email" placeholder="E-mail PayPal">
  <input id="amount" placeholder="Kwota (zł)">

  <button onclick="sendRequest()">Wyślij wniosek</button>

  <p><b>Historia wypłat</b></p>
  <table>
    <thead>
      <tr>
        <th>Kwota</th>
        <th>Status</th>
        <th>Data</th>
      </tr>
    </thead>
    <tbody id="history"></tbody>
  </table>
</section>

<script>
let requests = JSON.parse(localStorage.getItem("withdrawRequests")) || [];

function sendRequest(){
  const name = document.getElementById("name").value;
  const email = document.getElementById("email").value;
  const amount = document.getElementById("amount").value;

  if(!name || !email || !amount){
    alert("Uzupełnij wszystkie pola");
    return;
  }

  requests.push({
    name,
    email,
    amount,
    status:"Oczekuje",
    date:new Date().toLocaleString()
  });

  localStorage.setItem("withdrawRequests", JSON.stringify(requests));
  document.getElementById("name").value="";
  document.getElementById("email").value="";
  document.getElementById("amount").value="";
  render();
}

function render(){
  const tbody = document.getElementById("history");
  tbody.innerHTML="";
  requests.forEach(r=>{
    tbody.innerHTML += `
      <tr>
        <td>${r.amount} zł</td>
        <td>${r.status}</td>
        <td>${r.date}</td>
      </tr>
    `;
  });
}

render();
</script>

</body>
</html>
