<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Panel Admina</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#111;
  color:#fff;
}
header{
  background:#000;
  padding:15px;
  text-align:center;
}
section{
  max-width:1000px;
  margin:30px auto;
  padding:20px;
}
table{
  width:100%;
  border-collapse:collapse;
}
th,td{
  border-bottom:1px solid #444;
  padding:10px;
  text-align:center;
}
button{
  padding:6px 10px;
  margin:2px;
  border:none;
  border-radius:4px;
  cursor:pointer;
}
.ok{background:#4caf50}
.no{background:#f44336}
</style>
</head>

<body>

<header>
  <h1>Panel Admina – Wypłaty</h1>
</header>

<section>
  <table>
    <thead>
      <tr>
        <th>Imię i nazwisko</th>
        <th>Email PayPal</th>
        <th>Kwota</th>
        <th>Data</th>
        <th>Status</th>
        <th>Akcja</th>
      </tr>
    </thead>
    <tbody id="list"></tbody>
  </table>
</section>

<script>
let requests = JSON.parse(localStorage.getItem("withdrawRequests")) || [];

function render(){
  const list = document.getElementById("list");
  list.innerHTML="";

  requests.forEach((r,i)=>{
    list.innerHTML += `
      <tr>
        <td>${r.name}</td>
        <td>${r.email}</td>
        <td>${r.amount} zł</td>
        <td>${r.date}</td>
        <td>${r.status}</td>
        <td>
          <button class="ok" onclick="approve(${i})">✔</button>
          <button class="no" onclick="reject(${i})">✖</button>
        </td>
      </tr>
    `;
  });
}

function approve(i){
  requests[i].status="Zatwierdzona";
  save();
}
function reject(i){
  requests[i].status="Odrzucona";
  save();
}
function save(){
  localStorage.setItem("withdrawRequests", JSON.stringify(requests));
  render();
}

render();
</script>

</body>
</html>
