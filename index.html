<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PlayWatch</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(to right, #1e3c72, #2a5298);
  color: #fff;
  text-align: center;
}

header {
  background: #0d1b33;
  padding: 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

header h1 {
  margin: 0;
}

section {
  max-width: 900px;
  margin: 20px auto;
  background: rgba(0,0,0,0.6);
  padding: 20px;
  border-radius: 12px;
}

input {
  padding: 10px;
  margin: 6px;
  width: 80%;
  max-width: 300px;
  border-radius: 6px;
  border: none;
}

button {
  padding: 10px 18px;
  margin: 6px;
  border: none;
  border-radius: 6px;
  font-weight: bold;
  cursor: pointer;
  background: #ff9800;
}

img.character {
  width: 150px;
  height: auto;
  border-radius: 10px;
  margin: 10px;
}

footer {
  margin-top: 40px;
  padding: 20px;
  background: #0d1b33;
}

footer a {
  color: #ff9800;
  margin: 0 10px;
  text-decoration: none;
}

#withdrawBtn {
  background: #ff9800;
  padding: 8px 12px;
  border-radius: 6px;
  cursor: pointer;
}
</style>
</head>
<body>

<header>
  <h1>ðŸŽ® PlayWatch</h1>
  <button id="withdrawBtn" onclick="location.href='wyplaty.html'">ðŸ’µ WypÅ‚aty</button>
</header>

<section id="loginBox">
  <h2>Logowanie / Rejestracja</h2>
  <input id="email" type="email" placeholder="Email"><br>
  <input id="password" type="password" placeholder="HasÅ‚o"><br>
  <button onclick="login()">Zaloguj</button>
  <button onclick="register()">Zarejestruj</button>
</section>

<section id="app" style="display:none;">
  <h2>Witaj, <span id="userEmail"></span> ðŸ‘‹</h2>
  <p>ðŸ’° Punkty: <b id="points">0</b></p>
  <p>ðŸ”¥ Rebirth: <b id="rebirth">0</b></p>
  <button onclick="logout()">Wyloguj</button>

  <hr>

  <h3>ðŸ–± Klikacz</h3>
  <button onclick="addPoints()">Kliknij (+1 pkt)</button>

  <hr>

  <h3>ðŸŽ² Losowanie 1â€“100</h3>
  <button onclick="draw()">Losuj</button>
  <p id="drawResult"></p>

  <hr>

  <h3>ðŸŽ¡ KoÅ‚o Fortuny (1â€“500 pkt)</h3>
  <button onclick="spinWheel()">ZakrÄ™Ä‡!</button>
  <p id="wheelResult"></p>

  <hr>

  <h3>ðŸŽ¬ Zgadnij postaÄ‡</h3>
  <div id="characterBox"></div>
  <input id="characterInput" placeholder="Wpisz imiÄ™ postaci">
  <button onclick="checkCharacter()">SprawdÅº</button>
  <p id="characterResult"></p>

  <hr>

  <h3>â™» Rebirth</h3>
  <p>Koszt: <span id="rebirthCost"></span> pkt</p>
  <button onclick="doRebirth()">Rebirth</button>
</section>

<footer>
  <a href="o-nas.html">O nas</a> |
  <a href="regulamin.html">Regulamin</a> |
  <a href="polityka-prywatnosci.html">Polityka prywatnoÅ›ci</a>
</footer>

<script>
let users = JSON.parse(localStorage.getItem("users")) || {};
let loggedUser = localStorage.getItem("loggedUser");

const characters = [
  {name:"Eleven", img:"https://static1.srcdn.com/wordpress/wp-content/uploads/2024/08/milly-bobby-brown-as-eleven-in-stranger-things-season-4.jpg"},
  {name:"Wednesday", img:"https://www.nme.com/wp-content/uploads/2022/11/Jenna-Ortega-Wednesday.jpg"},
  {name:"Furioza", img:"https://ayther.fr/wp-content/uploads/2022/04/furioza-2-netflix-768x419.jpg"},
  {name:"Tony Stark", img:"https://static1.srcdn.com/wordpress/wp-content/uploads/2025/02/iron-man-tony-stark-new-ultimate-redesign.jpg"},
  {name:"Harry Potter", img:"https://static0.gamerantimages.com/wordpress/wp-content/uploads/2024/11/harry-potter-as-an-adult-cropped.jpg"},
  {name:"Mariusz", img:"https://e-teatr.pl/files/multimedias/148083/chorosi__kipap_20220829_26L.jpg"},
  {name:"Angelika", img:"https://d-art.ppstatic.pl/kadry/k/r/1/1a/18/61b896179ec53_o_large.jpg"},
  {name:"Marzena", img:"https://i.iplsc.com/magdalena-waligorska-lisiecka/0007TPC6FH44B71M-C122-F4.jpg"}
];

let currentCharacter;

function saveUsers(){localStorage.setItem("users",JSON.stringify(users));}
function register(){
  const e=email.value.trim(),p=password.value.trim();
  if(!e||!p)return alert("UzupeÅ‚nij email i hasÅ‚o");
  if(users[e])return alert("Email juÅ¼ zarejestrowany");
  users[e]={password:p,points:0,rebirth:0,rebirthCost:100000};
  saveUsers();alert("Konto utworzone â€” moÅ¼esz siÄ™ zalogowaÄ‡");
}
function login(){
  const e=email.value.trim(),p=password.value.trim();
  if(!users[e]||users[e].password!==p)return alert("ZÅ‚y email lub hasÅ‚o");
  localStorage.setItem("loggedUser",e);
  showApp();
}
function logout(){
  localStorage.removeItem("loggedUser");
  app.style.display="none";
  loginBox.style.display="block";
}
function showApp(){
  loggedUser=localStorage.getItem("loggedUser");
  if(!loggedUser)return;
  loginBox.style.display="none";
  app.style.display="block";
  userEmail.innerText=loggedUser;
  updateUI();
  nextCharacter();
}
function updateUI(){
  const u=users[loggedUser];
  points.innerText=u.points;
  rebirth.innerText=u.rebirth;
  rebirthCost.innerText=u.rebirthCost;
  saveUsers();
}
function addPoints(){users[loggedUser].points+=1;updateUI();}
function draw(){const n=Math.floor(Math.random()*100)+1;users[loggedUser].points+=n;drawResult.innerText="Wylosowano: "+n;updateUI();}
function spinWheel(){const n=Math.floor(Math.random()*500)+1;users[loggedUser].points+=n;wheelResult.innerText="KoÅ‚o Fortuny wypadÅ‚o: "+n+" pkt";updateUI();}
function doRebirth(){
  const u=users[loggedUser];
  if(u.points<u.rebirthCost)return alert("Za maÅ‚o punktÃ³w");
  u.points=0;u.rebirth++;u.rebirthCost*=10;updateUI();
}
function nextCharacter(){
  currentCharacter=characters[Math.floor(Math.random()*characters.length)];
  characterBox.innerHTML=`<img class="character" src="${currentCharacter.img}" alt="PostaÄ‡">`;
  characterInput.value="";characterResult.innerText="";
}
function checkCharacter(){
  const guess=characterInput.value.trim().toLowerCase();
  if(guess===currentCharacter.name.toLowerCase()){
    users[loggedUser].points+=50;
    characterResult.innerText="Brawo! +50 pkt";
    updateUI();
    setTimeout(nextCharacter,1000);
  }else characterResult.innerText="SprÃ³buj jeszcze raz!";
}

if(loggedUser) showApp();
</script>
</body>
</html>
